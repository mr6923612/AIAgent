# AI Agent æ™ºèƒ½å®¢æœç³»ç»Ÿ

ä¸€ä¸ªåŸºäºCrewAIå’ŒRAGFlowçš„æ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œæ”¯æŒå¤šæ¨¡æ€è¾“å…¥å’Œä¼šè¯ç®¡ç†ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– æ™ºèƒ½å®¢æœç³»ç»Ÿ
- **CrewAIæ¡†æ¶**ï¼šåŸºäºCrewAIæ„å»ºçš„æ™ºèƒ½å®¢æœç³»ç»Ÿ
- **å¤šAgentåä½œ**ï¼šæ”¯æŒå¤šä¸ªAI AgentååŒå·¥ä½œ
- **ä¸Šä¸‹æ–‡ç†è§£**ï¼šæ™ºèƒ½ç†è§£ç”¨æˆ·æ„å›¾å’Œä¸Šä¸‹æ–‡
- **ä¸ªæ€§åŒ–å“åº”**ï¼šæ ¹æ®ç”¨æˆ·å†å²æä¾›ä¸ªæ€§åŒ–æœåŠ¡

### ğŸ“š çŸ¥è¯†åº“é›†æˆ
- **RAGFlowé›†æˆ**ï¼šé›†æˆRAGFlowè¿›è¡ŒçŸ¥è¯†æ£€ç´¢å’Œé—®ç­”
- **å‘é‡æœç´¢**ï¼šæ”¯æŒè¯­ä¹‰æœç´¢å’Œç›¸ä¼¼åº¦åŒ¹é…
- **çŸ¥è¯†æ›´æ–°**ï¼šæ”¯æŒåŠ¨æ€æ›´æ–°çŸ¥è¯†åº“å†…å®¹
- **å¤šæºæ•°æ®**ï¼šæ”¯æŒå¤šç§æ•°æ®æºçš„çŸ¥è¯†æ•´åˆ

### ğŸ’¬ ä¼šè¯ç®¡ç†
- **å¤šä¼šè¯æ”¯æŒ**ï¼šæ”¯æŒåŒæ—¶ç®¡ç†å¤šä¸ªå¯¹è¯ä¼šè¯
- **ä¼šè¯æŒä¹…åŒ–**ï¼šä½¿ç”¨MySQLæ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨
- **ä¼šè¯åŒæ­¥**ï¼šæœ¬åœ°ä¼šè¯ä¸RAGFlowä¼šè¯åŒæ­¥
- **ä¼šè¯åˆ é™¤**ï¼šæ”¯æŒåˆ é™¤æœ¬åœ°å’ŒRAGFlowä¼šè¯

### ğŸ¤ å¤šæ¨¡æ€è¾“å…¥
- **æ–‡æœ¬è¾“å…¥**ï¼šæ”¯æŒè‡ªç„¶è¯­è¨€æ–‡æœ¬è¾“å…¥
- **è¯­éŸ³è¾“å…¥**ï¼šæ”¯æŒè¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½
- **å›¾ç‰‡è¾“å…¥**ï¼šæ”¯æŒå›¾ç‰‡ä¸Šä¼ å’Œåˆ†æ
- **æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ä¸Šä¼ 

### ğŸ”„ å®æ—¶äº¤äº’
- **æµå¼å¯¹è¯**ï¼šæ”¯æŒæµå¼å¯¹è¯å’Œå®æ—¶å“åº”
- **ä»»åŠ¡çŠ¶æ€**ï¼šå®æ—¶æ˜¾ç¤ºä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- **è¿›åº¦è·Ÿè¸ª**ï¼šå¯è§†åŒ–ä»»åŠ¡æ‰§è¡Œè¿›åº¦
- **é”™è¯¯å¤„ç†**ï¼šæ™ºèƒ½é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

### ğŸ› ï¸ å¼€å‘å·¥å…·
- **å¥åº·æ£€æŸ¥**ï¼šè‡ªåŠ¨æ£€æŸ¥æœåŠ¡çŠ¶æ€
- **æµ‹è¯•æ¡†æ¶**ï¼šå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹å’Œå·¥å…·
- **æ¸…ç†å·¥å…·**ï¼šè‡ªåŠ¨æ¸…ç†æµ‹è¯•æ•°æ®å’Œä¼šè¯
- **ç›‘æ§è„šæœ¬**ï¼šå®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Python 3.9+** - ä¸»è¦ç¼–ç¨‹è¯­è¨€
- **Flask 3.0+** - Webæ¡†æ¶å’ŒAPIæœåŠ¡
- **CrewAI 0.1.32** - AI Agentæ¡†æ¶
- **LangChain** - LLMåº”ç”¨å¼€å‘æ¡†æ¶
- **Google Generative AI** - å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- **RAGFlow** - çŸ¥è¯†åº“å’ŒRAGæœåŠ¡
- **MySQL 8.0+** - å…³ç³»å‹æ•°æ®åº“
- **PyMySQL** - MySQLæ•°æ®åº“è¿æ¥å™¨
- **python-dotenv** - ç¯å¢ƒå˜é‡ç®¡ç†

### å‰ç«¯æŠ€æœ¯
- **React 18+** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·å’Œå¼€å‘æœåŠ¡å™¨
- **Lucide React** - å›¾æ ‡åº“
- **Axios** - HTTPå®¢æˆ·ç«¯
- **CSS3** - æ ·å¼è®¾è®¡

### éƒ¨ç½²æŠ€æœ¯
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²
- **Docker Compose** - å¤šå®¹å™¨ç¼–æ’
- **MySQL** - æ•°æ®æŒä¹…åŒ–
- **Qdrant** - å‘é‡æ•°æ®åº“
- **Ollama** - æœ¬åœ°LLMæœåŠ¡

### å¼€å‘å·¥å…·
- **Git** - ç‰ˆæœ¬æ§åˆ¶
- **Python-dotenv** - ç¯å¢ƒå˜é‡ç®¡ç†
- **pytest** - æµ‹è¯•æ¡†æ¶
- **requests** - HTTPè¯·æ±‚åº“
- **SpeechRecognition** - è¯­éŸ³è¯†åˆ«
- **pydub** - éŸ³é¢‘å¤„ç†

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### LLMè°ƒç”¨æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   åç«¯API       â”‚    â”‚   RAGFlow       â”‚
â”‚   (React)       â”‚â”€â”€â”€â–ºâ”‚   (Flask)       â”‚â”€â”€â”€â–ºâ”‚   (çŸ¥è¯†æ£€ç´¢)    â”‚
â”‚   Port: 3000    â”‚    â”‚   Port: 5000    â”‚    â”‚   Port: 9380    â”‚
â”‚   ç”¨æˆ·è¾“å…¥      â”‚    â”‚   æ¥æ”¶è¯·æ±‚      â”‚    â”‚   è·å–çŸ¥è¯†      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   Google AI     â”‚
                       â”‚   (Gemini API)  â”‚
                       â”‚   ç”Ÿæˆå“åº”      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   åç«¯API       â”‚
                       â”‚   (Flask)       â”‚
                       â”‚   Port: 5000    â”‚
                       â”‚   æµå¼è¾“å‡º      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   å‰ç«¯ç•Œé¢      â”‚
                       â”‚   (React)       â”‚
                       â”‚   Port: 3000    â”‚
                       â”‚   å±•ç¤ºå“åº”      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   MySQLæ•°æ®åº“   â”‚
                       â”‚   Port: 3307    â”‚
                       â”‚   ä¼šè¯å­˜å‚¨      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†è°ƒç”¨æµç¨‹
```
å‰ç«¯ç”¨æˆ·è¾“å…¥ â†’ å‘é€åˆ°åç«¯API
    â†“
åç«¯æ¥æ”¶è¯·æ±‚ â†’ è°ƒç”¨RAGFlowçŸ¥è¯†æ£€ç´¢
    â†“
RAGFlowè¿”å›ç›¸å…³çŸ¥è¯† â†’ åç«¯æ•´åˆä¸Šä¸‹æ–‡
    â†“
åç«¯è°ƒç”¨Google AI (Gemini) â†’ ç”Ÿæˆå“åº”
    â†“
Geminiæµå¼è¾“å‡º â†’ åç«¯æ¥æ”¶å¹¶è½¬å‘
    â†“
åç«¯æµå¼è¿”å› â†’ å‰ç«¯å®æ—¶å±•ç¤º
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
AIAgent/
â”œâ”€â”€ ğŸ“‚ crewaiBackend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“‚ utils/                        # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ database.py                  # æ•°æ®åº“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ sessionManager.py            # ä¼šè¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ragflow_client.py            # RAGFlowå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ myLLM.py                     # LLMé…ç½®
â”‚   â”‚   â”œâ”€â”€ speech_to_text.py            # è¯­éŸ³è½¬æ–‡å­—
â”‚   â”‚   â””â”€â”€ jobManager.py                # ä»»åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“‚ scripts/                      # è„šæœ¬å·¥å…·
â”‚   â”‚   â”œâ”€â”€ check_requirements.py        # ä¾èµ–æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ cleanup_sessions.py          # ä¼šè¯æ¸…ç†
â”‚   â”‚   â”œâ”€â”€ quick_cleanup.py             # å¿«é€Ÿæ¸…ç†
â”‚   â”‚   â”œâ”€â”€ run_tests.py                 # æµ‹è¯•è¿è¡Œ
â”‚   â”‚   â””â”€â”€ test_cleanup.py              # æµ‹è¯•æ¸…ç†
â”‚   â”œâ”€â”€ ğŸ“‚ tests/                        # æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â”œâ”€â”€ test_session_management.py   # ä¼šè¯ç®¡ç†æµ‹è¯•
â”‚   â”‚   â””â”€â”€ README.md                    # æµ‹è¯•æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“‚ docs/                         # æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ API_CONFIG.md                # APIé…ç½®
â”‚   â”‚   â””â”€â”€ GOOGLE_API_SETUP.md          # Google APIè®¾ç½®
â”‚   â”œâ”€â”€ main.py                          # Flaskåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ crew.py                          # CrewAIé…ç½®
â”‚   â”œâ”€â”€ config.py                        # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ init_database.py                 # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ env.template                     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”œâ”€â”€ requirements.txt                 # Pythonä¾èµ–
â”‚   â””â”€â”€ SETUP.md                         # åç«¯è®¾ç½®æŒ‡å—
â”œâ”€â”€ ğŸ“‚ crewaiFrontend/                   # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ components/               # Reactç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.jsx        # èŠå¤©ç•Œé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx                # ç™»å½•ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Register.jsx             # æ³¨å†Œç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ api.js                   # APIè°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ App.jsx                      # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.jsx                     # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ package.json                     # Node.jsä¾èµ–
â”‚   â””â”€â”€ vite.config.js                   # Viteé…ç½®
â”œâ”€â”€ ğŸ“‚ tests/                            # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“‚ integration/                  # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“‚ unit/                         # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“‚ llm_tests/                    # LLMæµ‹è¯•
â”‚   â””â”€â”€ run_all_tests.py                 # æµ‹è¯•è¿è¡Œå™¨
â”œâ”€â”€ ğŸ³ éƒ¨ç½²æ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.yml               # Dockerç¼–æ’
â”‚   â”œâ”€â”€ deploy.sh                        # Linux/macOSéƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ deploy.bat                       # Windowséƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ install_ragflow.sh               # RAGFlowå®‰è£…è„šæœ¬(Linux/macOS)
â”‚   â”œâ”€â”€ install_ragflow.bat              # RAGFlowå®‰è£…è„šæœ¬(Windows)
â”‚   â””â”€â”€ health_check.py                  # å¥åº·æ£€æŸ¥è„šæœ¬
â”œâ”€â”€ ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                        # é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ DEPLOYMENT.md                    # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ .gitignore                       # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ ğŸ“‚ mysql_data/                       # MySQLæ•°æ®ç›®å½•(Docker)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Docker 20.10+** å’Œ **Docker Compose 2.0+**
- **Python 3.9+** (æœ¬åœ°å¼€å‘)
- **Node.js 16+** (å‰ç«¯å¼€å‘)
- **MySQL 8.0+** (æ•°æ®åº“)

### ä¸€é”®éƒ¨ç½² (æ¨è)

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬

**Linux/macOS:**
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd AIAgent

# è¿è¡Œéƒ¨ç½²è„šæœ¬ï¼ˆåŒ…å«RAGFlowå®‰è£…ï¼‰
chmod +x deploy.sh
./deploy.sh
```

**Windows:**
```cmd
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd AIAgent

# è¿è¡Œéƒ¨ç½²è„šæœ¬ï¼ˆåŒ…å«RAGFlowå®‰è£…ï¼‰
deploy.bat
```

#### æ–¹æ³•äºŒï¼šåˆ†æ­¥å®‰è£…

**1. å®‰è£…RAGFlow:**
```bash
# Linux/macOS
chmod +x install_ragflow.sh
./install_ragflow.sh

# Windows
install_ragflow.bat
```

**2. å®‰è£…AI Agent:**
```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp crewaiBackend/env.template crewaiBackend/.env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥APIå¯†é’¥

# å¯åŠ¨AI AgentæœåŠ¡
docker-compose up -d
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd AIAgent
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp crewaiBackend/env.template crewaiBackend/.env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„APIå¯†é’¥
nano crewaiBackend/.env  # æˆ–ä½¿ç”¨æ‚¨å–œæ¬¢çš„ç¼–è¾‘å™¨
```

3. **å¯åŠ¨æœåŠ¡**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
# åˆå§‹åŒ–æ•°æ®åº“è¡¨
docker-compose exec aiagent-backend python init_database.py
```

5. **è®¿é—®åº”ç”¨**
- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **åç«¯API**: http://localhost:5000
- **RAGFlow**: http://localhost:9380

### å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
python health_check.py

# æŒç»­ç›‘æ§æ¨¡å¼
python health_check.py --continuous 30

# ä¿å­˜æ£€æŸ¥æŠ¥å‘Š
python health_check.py --save-report
```

### å¸¸ç”¨å‘½ä»¤

#### æœåŠ¡ç®¡ç†
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### æµ‹è¯•å’Œæ¸…ç†
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python crewaiBackend/scripts/run_tests.py

# æ¸…ç†æ‰€æœ‰ä¼šè¯
python crewaiBackend/scripts/quick_cleanup.py

# æ£€æŸ¥ä¾èµ–åŒ…
python crewaiBackend/scripts/check_requirements.py
```

#### RAGFlowç®¡ç†
```bash
# å®‰è£…RAGFlow
./install_ragflow.sh  # Linux/macOS
install_ragflow.bat   # Windows

# æŸ¥çœ‹RAGFlowæ—¥å¿—
docker logs -f ragflow-server

# é‡å¯RAGFlow
cd ragflow/docker && docker compose restart
```

### æœ¬åœ°å¼€å‘

#### åç«¯å¼€å‘
```bash
# è¿›å…¥åç«¯ç›®å½•
cd crewaiBackend

# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp env.template .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„APIå¯†é’¥

# åˆå§‹åŒ–æ•°æ®åº“
python init_database.py

# å¯åŠ¨åç«¯æœåŠ¡
python main.py
```

#### å‰ç«¯å¼€å‘
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd crewaiFrontend

# å®‰è£…Node.jsä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start
```

# ä»…å¯åŠ¨AI Agentç›¸å…³æœåŠ¡
docker-compose --profile aiagent up -d
```

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

æ‰€æœ‰æ•æ„Ÿä¿¡æ¯éƒ½é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†ï¼Œè¯·åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# å¤åˆ¶æ¨¡æ¿æ–‡ä»¶
cp crewaiBackend/env.template crewaiBackend/.env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# å¡«å…¥æ‚¨çš„å®é™…APIå¯†é’¥å’Œé…ç½®
```

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š[SETUP.md](crewaiBackend/SETUP.md)

### ç¯å¢ƒå˜é‡åˆ—è¡¨

```bash
# Google APIé…ç½®
GOOGLE_API_KEY=your_google_api_key

# RAGFlowé…ç½®
RAGFLOW_BASE_URL=http://localhost:80
RAGFLOW_API_KEY=your_ragflow_api_key
RAGFLOW_CHAT_ID=your_chat_id

# MySQLé…ç½®
MYSQL_HOST=localhost
MYSQL_PORT=3307
MYSQL_USER=root
MYSQL_PASSWORD=your_password
MYSQL_DATABASE=aiagent_chat
```

### å®‰å…¨æ³¨æ„äº‹é¡¹

- **æ°¸è¿œä¸è¦**å°† `.env` æ–‡ä»¶æäº¤åˆ°Gitä»“åº“
- ç¡®ä¿ `.env` æ–‡ä»¶åœ¨ `.gitignore` ä¸­
- å®šæœŸè½®æ¢APIå¯†é’¥

## APIæ–‡æ¡£

### ä¼šè¯ç®¡ç†

- `POST /api/sessions` - åˆ›å»ºæ–°ä¼šè¯
- `GET /api/sessions/{session_id}` - è·å–ä¼šè¯è¯¦æƒ…
- `DELETE /api/sessions/{session_id}` - åˆ é™¤ä¼šè¯
- `PUT /api/sessions/{session_id}` - æ›´æ–°ä¼šè¯æ ‡é¢˜
- `GET /api/users/{user_id}/sessions` - è·å–ç”¨æˆ·æ‰€æœ‰ä¼šè¯

### æ¶ˆæ¯ç®¡ç†

- `POST /api/sessions/{session_id}/messages` - æ·»åŠ æ¶ˆæ¯åˆ°ä¼šè¯

### å®¢æœæœºå™¨äºº

- `POST /api/crew` - å‘é€æ¶ˆæ¯ç»™å®¢æœæœºå™¨äºº
- `GET /api/crew/{job_id}` - è·å–ä»»åŠ¡çŠ¶æ€

## å¼€å‘æŒ‡å—

### ä»£ç ç»“æ„ä¼˜åŒ–

1. **åç«¯ä¼˜åŒ–**ï¼š
   - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
   - å…¬å…±APIè¯·æ±‚æ–¹æ³•
   - æ¨¡å—åŒ–çš„ä¼šè¯ç®¡ç†
   - å®Œå–„çš„æ—¥å¿—è®°å½•

2. **å‰ç«¯ä¼˜åŒ–**ï¼š
   - ç»Ÿä¸€çš„APIè°ƒç”¨å·¥å…·
   - ç»„ä»¶åŒ–çš„UIè®¾è®¡
   - é”™è¯¯å¤„ç†æœºåˆ¶
   - å“åº”å¼è®¾è®¡

### æµ‹è¯•å’Œæ¸…ç†

1. **æµ‹è¯•ç”¨ä¾‹**ï¼š
   - æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½ä¼šè‡ªåŠ¨æ¸…ç†åˆ›å»ºçš„ä¼šè¯
   - ä½¿ç”¨ `scripts/test_cleanup.py` ç®¡ç†æµ‹è¯•ä¼šè¯
   - è¿è¡Œ `python scripts/run_tests.py` æ‰§è¡Œæ‰€æœ‰æµ‹è¯•

2. **ä¼šè¯æ¸…ç†**ï¼š
   - ä½¿ç”¨ `scripts/cleanup_sessions.py` æ¸…ç†æ‰€æœ‰ä¼šè¯
   - æ”¯æŒæ¸…ç†æœ¬åœ°ä¼šè¯å’ŒRAGFlowä¼šè¯
   - æ”¯æŒæ¸…ç†æ•°æ®åº“è¡¨

3. **æµ‹è¯•å·¥å…·**ï¼š
   ```bash
   # è¿è¡Œæ‰€æœ‰æµ‹è¯•
   python scripts/run_tests.py
   
   # è¿è¡ŒæŒ‡å®šæµ‹è¯•
   python scripts/run_tests.py --test test_session_management
   
   # åªè¿è¡Œæ¸…ç†
   python scripts/run_tests.py --cleanup-only
   
   # æ¸…ç†æ‰€æœ‰ä¼šè¯
   python scripts/cleanup_sessions.py
   ```

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯**ï¼šåœ¨ç›¸åº”çš„æ¨¡å—ä¸­æ·»åŠ æ–°åŠŸèƒ½
2. **å‰ç«¯**ï¼šåœ¨`utils/api.js`ä¸­æ·»åŠ APIè°ƒç”¨ï¼Œåœ¨ç»„ä»¶ä¸­ä½¿ç”¨
3. **æµ‹è¯•**ï¼šç¼–å†™ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿æµ‹è¯•åæ¸…ç†

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **RAGFlowè¿æ¥å¤±è´¥**ï¼š
   - æ£€æŸ¥RAGFlowæœåŠ¡æ˜¯å¦è¿è¡Œ
   - éªŒè¯APIå¯†é’¥å’ŒURLé…ç½®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼š
   - æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
   - éªŒè¯æ•°æ®åº“é…ç½®
   - æ£€æŸ¥æ•°æ®åº“æƒé™

3. **å‰ç«¯APIè°ƒç”¨å¤±è´¥**ï¼š
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
   - éªŒè¯APIç«¯ç‚¹URL
   - æ£€æŸ¥CORSé…ç½®

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f crewaiBackend/app.log

# æŸ¥çœ‹Dockeræ—¥å¿—
docker-compose logs -f aiagent-backend
```

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## è®¸å¯è¯

MIT License

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥DockerçŠ¶æ€
docker --version
docker-compose --version

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :3000
netstat -tulpn | grep :5000

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
docker-compose logs aiagent-backend
```

#### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLå®¹å™¨çŠ¶æ€
docker-compose ps backend-mysql

# é‡å¯æ•°æ®åº“æœåŠ¡
docker-compose restart backend-mysql

# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
docker-compose exec aiagent-backend python init_database.py
```

#### 3. RAGFlowè¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥RAGFlowçŠ¶æ€
docker ps | grep ragflow

# é‡å¯RAGFlow
cd ragflow/docker && docker compose restart

# æŸ¥çœ‹RAGFlowæ—¥å¿—
docker logs -f ragflow-server
```

#### 4. APIå¯†é’¥é”™è¯¯
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
docker-compose exec aiagent-backend env | grep API

# é‡æ–°åŠ è½½é…ç½®
docker-compose down && docker-compose up -d
```

### æ€§èƒ½ä¼˜åŒ–

#### å†…å­˜ä¼˜åŒ–
```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
docker stats

# é™åˆ¶å®¹å™¨å†…å­˜ä½¿ç”¨
# åœ¨docker-compose.ymlä¸­æ·»åŠ å†…å­˜é™åˆ¶
```

#### æ•°æ®åº“ä¼˜åŒ–
```bash
# æ£€æŸ¥æ•°æ®åº“æ€§èƒ½
docker-compose exec backend-mysql mysql -u root -p -e "SHOW PROCESSLIST;"
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ğŸš€ éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md) - è¯¦ç»†çš„éƒ¨ç½²å’Œé…ç½®è¯´æ˜
- [ğŸ”§ åç«¯è®¾ç½®æŒ‡å—](crewaiBackend/SETUP.md) - åç«¯ç¯å¢ƒé…ç½®
- [ğŸ§ª æµ‹è¯•æ–‡æ¡£](crewaiBackend/tests/README.md) - æµ‹è¯•ç”¨ä¾‹å’Œå·¥å…·

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚