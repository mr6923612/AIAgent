# 图片数据库说明

## 目录结构
```
rag_documents/images/
├── README.md          # 本说明文件
└── [图片文件]         # 存储的图片文件
```

## 支持的图片格式
- PNG (.png)
- JPEG (.jpg, .jpeg)
- GIF (.gif)
- BMP (.bmp)

## 图片存储说明

### 命名规范
建议使用有意义的文件名，例如：
- `product_dashboard.png` - 产品仪表板截图
- `user_interface.jpg` - 用户界面截图
- `error_screenshot.png` - 错误截图
- `feature_demo.gif` - 功能演示动图

### 图片要求
1. **文件大小**：建议不超过5MB
2. **分辨率**：建议不超过1920x1080
3. **内容清晰**：确保图片内容清晰可见
4. **格式标准**：使用标准图片格式

## 多模态检索原理

### 图片特征提取
系统会为每张图片提取以下特征：
- 图片尺寸（宽度、高度）
- 颜色模式（RGB、灰度等）
- 图片哈希值（用于快速对比）
- 文件大小

### 相似度计算
使用感知哈希算法计算图片相似度：
1. 将图片转换为灰度图
2. 缩放到8x8像素
3. 计算平均像素值
4. 生成64位哈希值
5. 通过汉明距离计算相似度

### 匹配阈值
- 相似度 > 0.7：认为是相似图片
- 相似度 0.5-0.7：可能相关
- 相似度 < 0.5：不相关

## 使用方法

### 添加图片
1. 将图片文件复制到 `rag_documents/images/` 目录
2. 重启服务器以更新图片数据库
3. 系统会自动分析新图片并建立索引

### 删除图片
1. 从 `rag_documents/images/` 目录删除图片文件
2. 重启服务器以更新图片数据库

### 更新图片
1. 替换 `rag_documents/images/` 目录中的图片文件
2. 重启服务器以更新图片数据库

## 注意事项

1. **重启服务器**：添加、删除或更新图片后需要重启服务器
2. **文件权限**：确保服务器有读取图片文件的权限
3. **存储空间**：注意图片文件占用的存储空间
4. **性能影响**：大量图片可能影响系统启动时间

## 示例用法

当用户上传图片时，系统会：
1. 分析用户上传的图片
2. 在图片数据库中搜索相似图片
3. 返回匹配的图片和相关文字信息
4. 提供基于图片内容的客服回复
